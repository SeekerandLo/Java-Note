## 类加载

- 在 Java 代码中，类型的 **加载**、**连接** 与 **初始化** 过程都在 **程序运行期间** 完成

- 提供了更大的灵活性，增加了更多的可能性

### Java 虚拟机与程序的生命周期

在如下的几种情况，Java 虚拟机将结束生命周期
- 执行了 `System.exit()` 方法

- 程序正常执行结束

- 程序在执行过程中遇到了异常或错误而异常终止虚拟机

- 由于操作系统出现错误导致虚拟机进程终止

### 类的使用和卸载
- 使用

- 卸载：从内存中销毁掉

## 类的卸载
- 当一个类被加载、连接和初始化后，它的生命周期就开始了。当代表这个类的 Class 对象不再引用时，即不可触及时，Class 对象就会结束生命周期，这个类在方法区内的数据也会被卸载，从而结束这个类的生命周期

- 一个类何时结束生命周期，取决于代表它的 Class 对象何时结束生命周期

- 由 Java 虚拟机自带的类加载器所加载的类，在虚拟机的生命周期中，始终不会被卸载。Java 虚拟机自带的类加载器包括 **根类加载器、扩展类加载器和系统类加载器**。Java 虚拟机本身会始终引用这些类加载器，而这些类加载器则会始终引用它们所加载的类的 Class 对象，因此这些 Class 对象始终是可触及的

- **由用户定义的类加载器所加载的类是可被卸载的**

- 一个类的实例总是引用代表这个类的 Class 对象，在 Object 类中定义了 getClass() 方法，这个方法返回代表对象所属类的 Class 对象的引用。此外，所有的 Java 类都有一个静态属性 class，它引用代表这个类的 Class 对象。