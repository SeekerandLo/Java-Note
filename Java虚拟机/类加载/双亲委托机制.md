## 双亲委托机制

- 在双亲委托机制当中，各个加载器按照父子关系形成了逻辑上的 **树形结构**，除了根类加载器之外，其余的类加载器都有且只有一个父加载器
- 用通俗的话说：当一个类加载器想加载一个类时，不是马上通过自己去加载类，而是把加载的动作委托给父亲去完成，父亲上面如果还有父亲，就继续委托给父亲的父亲去完成，直到最顶层的根类加载器，如果根类加载器没能加载成功，会将委托传回给扩展类加载器，如果扩展类加载器也不能加载则继续回传，直到有类加载器能加载类，则加载动作完成，退回到最初的类加载器

```java
自    |---------------------|     自    加载 JRE\lib\rt.jar 或者
顶 ↑  |Bootstrap ClassLoader|  ↓  顶    Xbootclasspath 选项指定的 jar 包 
向 ↑  |---------------------|  ↓  向    
上 ↑                           ↓  下
检 ↑  |---------------------|  ↓  尝    加载 JRE\lib\ext\*.jar 或者
查 ↑  |Extension ClassLoader|  ↓  试    Djava.ext.dirs 指定目录下的 jar 包
类 ↑  |---------------------|  ↓  加 
是 ↑                           ↓  载
否 ↑  |---------------------|  ↓  类    加载 CLASSPATH 或 Djava.class.path 
已 ↑  |   App ClassLoader   |  ↓  2.    所指定的目录下的类和 jar 包
经 ↑  |---------------------|  ↓ 
加 ↑                           ↓
载    |---------------------|           通过 java.lang.ClassLoader 的子类
1.    | Custom  ClassLoader |           自定义加载 class
      |---------------------|    
```

- 若有一个类加载器能够成功加载 Test 类，那么这个类加载器被称为 **定义类加载器**，所有能成功返回 Class 对象引用的类加载器（包括定义类加载器）都被称为 **初始类加载器**
