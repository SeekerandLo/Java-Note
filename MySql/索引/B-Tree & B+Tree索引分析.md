## B-Tree & B+Tree 索引分析

### 磁盘读取原理

&emsp;&emsp;索引占用的空间很大，所以需要存放在物理存储上。而通过查找索引获取数据时间主要浪费在将物理存储(磁盘)中的数据读到内存，所以应尽量减少从磁盘读取数据到内存中的次数。为了达到这个目的，操作系统在读取数据的时候采用**磁盘预读**的方式，每次读取一块数据到内存中，这遵循局部性原理
>当一个数据被用到时，其附近的数据也通常马上被使用
&emsp;&emsp;磁盘预读的效率很高，应为顺序读取耗费的时间很少。预读的单位是**页**，页是存储的逻辑单位，把磁盘分割成大小相等的连续的块，每个存储块被称为页，一个页的大小是 4k，主存和磁盘交换数据都是以页为单位，当程序读取的数据不再内存中时，会触发缺页异常，此时系统会读取磁盘，磁盘找到数据的起始位置并向后读取一页或几页到内存中。


### B-Tree 索引

&emsp;&emsp;B-Tree 索引将每个节点的大小设为一页，这样每次都会读取一个节点只需要一次磁盘I/O，B-Tree 中一次检索最多执行 h-1 次磁盘I/O(B-Tree 根节点在内存中，树的高度为 h)

### B+Tree 索引

&emsp;&emsp;B+Tree 与 B-Tree 的区别就是，B+Tree 的非叶子节点只存放索引和 key，在叶子节点只存放数据