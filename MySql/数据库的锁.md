## 数据库的锁

- 锁是在多用户情况下保证数据库数据完整性和一致性

```java
锁 ———— 乐观锁           —— 行锁
    |                   |
    |—— 悲观锁 —— 范围锁 —— 表锁
               |
               | —— 属性锁 —— 共享锁
               |           |
               |           |—— 排他锁 
               |
               | —— 状态锁 —— 意向共享锁
                           |
                           |—— 意向排他锁 
```

### 行锁
- 当插入数据时，锁定行，就是行锁

- MySql 的行锁是基于索引加载的，所以行锁是加载索引响应的行上，即命中索引。

### 表锁
- 当插入数据时，锁定表，就是表锁

- 表锁响应的是非索引字段，即全表扫描，全表扫描时锁定整张表


