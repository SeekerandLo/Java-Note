## MySql 的索引

### 索引的类型

- **NORMAL**：**普通索引**，
    - 加快对数据的访问速度

    - 为经常出现的查询条件或排序条件创建索引

- **FULLTEXT**：**全文索引**，目前之后 MyISAM 引擎支持

    - MyISAM 支持    

    - [全文本检索功能](#全文本检索功能)

- **SPATIAL**：**空间索引**


- **UNIQUE**：**唯一索引**
    - 可以避免数据重复

    - 索引列的值必须唯一，允许有空值

    - 如果能确定某一列不会出现重复值，在创建索引时应该创建成唯一索引

### 索引的方法

- **BTREE**

    - InnoDB MyISAM 默认索引是 BTREE
    
    - **B-Tree**
    

    - **B+Tree**

- **HASH**

    - Memmory 默认是 HASH

    - Hash 索引只能等式比较，不能使用范围 > < >= 等

    - 每次都要全表扫描

    - 

### 全文本检索功能

- 使用 FULLTEXT 类型索引标记指定列

- match() 指定扫描的列，against() 指定内容
```sql
SELECT * FROM
`user`
WHERE MATCH(username) AGAINST('789');

-- 相当于下面

SELECT * FROM
`user`
WHERE username LIKE '%789%';

```
#### 查询扩展 Against('内容' WITH QUERY EXPANSION)
- 在使用查询扩展时，对数据和索引进行两遍扫描来完成搜索

- 首先，进行一个基本的全文本搜索，找出与搜索条件匹配的所有行

- 其次，MySQL检查这些匹配行并选择所有**有用的词**

- 再其次，MySQL再次进行全文本搜索，这次不仅使用原来的条件，而且还使用所有**有用**的词
```sql
SELECT * FROM
`user`
WHERE MATCH(username) AGAINST('789' );
```

#### 布尔文本搜索

- 


### 操作索引的方式

#### 创建普通索引

```sql
CREATE INDEX 索引名字 ON 表名字(列名字)

如：
CREATE INDEX age ON user(age)
```

#### 创建唯一索引
```sql
CREATE UNIQUE INDEX 索引名字 ON 表名字(列名字)

如：
CREATE UNIQUE INDEX age ON user(age)
```

#### 查看表的索引
```sql
SHOW INDEX FROM 表名字

如：
SHOW INDEX FROM `user`
```


#### 删除索引
```sql
DROP INDEX 索引名字 ON 表名字

如：
DROP INDEX age ON user
```

### 什么时候需要创建索引
